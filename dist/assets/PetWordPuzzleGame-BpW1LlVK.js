import{r as o,j as e,m as d,A as Q}from"./framer-ImROKbaA.js";import{u as V,s as f}from"./index-DIWj36YF.js";import"./vendor-Bzgz95E1.js";import"./zustand-C3EHBv_w.js";const m=8,F=["CAT","DOG","BIRD","FISH","RABBIT","HAMSTER","TURTLE","PARROT","GOLDFISH","FERRET","GUINEA","PIG","HORSE","COW","SHEEP","CHICKEN","DUCK","GOOSE","MOUSE","RAT","SNAKE","LIZARD","FROG","TOAD","PET","ANIMAL","FURRY","CUTE","PAW","TAIL","WHISKERS","BARK","MEOW","SQUEAK","CHIRP","NEIGH","MOO","BAA","CLUCK","QUACK"],Y=()=>{const{setMessage:C,completeMiniGame:A}=V(),[x,R]=o.useState([]),[h,v]=o.useState([]),[c,P]=o.useState([]),[u,W]=o.useState(0),[w,G]=o.useState(180),[j,S]=o.useState(!1),[y,E]=o.useState(!1),[p,M]=o.useState(""),U=o.useRef(null),b=o.useRef(!1),z=o.useCallback(()=>{const a=Array(m).fill(null).map(()=>Array(m).fill(null).map(()=>({letter:"",x:0,y:0,isSelected:!1,isFound:!1}))),t=[],l=[...F];for(let s=0;s<50&&t.length<15;s++){const r=l[Math.floor(Math.random()*l.length)];if(t.includes(r))continue;const g=Math.random()<.5?"horizontal":"vertical",N=Math.floor(Math.random()*m),O=Math.floor(Math.random()*m);H(a,r,N,O,g)&&(k(a,r,N,O,g),t.push(r))}const n="AEIOU",i="BCDFGHJKLMNPQRSTVWXYZ";for(let s=0;s<m;s++)for(let r=0;r<m;r++){if(a[s][r].letter===""){const N=Math.random()<.4?n:i;a[s][r].letter=N[Math.floor(Math.random()*N.length)]}a[s][r].x=r,a[s][r].y=s}return a},[]),H=(a,t,l,n,i)=>{if(i==="horizontal"){if(l+t.length>m)return!1;for(let s=0;s<t.length;s++){const r=a[n][l+s];if(r.letter!==""&&r.letter!==t[s])return!1}}else{if(n+t.length>m)return!1;for(let s=0;s<t.length;s++){const r=a[n+s][l];if(r.letter!==""&&r.letter!==t[s])return!1}}return!0},k=(a,t,l,n,i)=>{if(i==="horizontal")for(let s=0;s<t.length;s++)a[n][l+s].letter=t[s];else for(let s=0;s<t.length;s++)a[n+s][l].letter=t[s]},I=()=>{S(!0),E(!1),W(0),G(180),P([]),v([]),M(""),R(z()),f.playGameStart()},L=(a,t)=>{const l=Math.abs(a.x-t.x),n=Math.abs(a.y-t.y);return l===1&&n===0||l===0&&n===1||l===1&&n===1},D=(a,t)=>{y||x[t][a].isFound||(b.current=!0,v([{x:a,y:t}]),M(x[t][a].letter),f.playTileSelect())},$=(a,t)=>{if(!b.current||y||x[t][a].isFound)return;const l=h[h.length-1];if(l&&L(l,{x:a,y:t})&&!h.some(i=>i.x===a&&i.y===t)){const i=[...h,{x:a,y:t}];v(i),M(i.map(s=>x[s.y][s.x].letter).join(""))}},K=()=>{if(b.current){if(b.current=!1,p.length>=3&&F.includes(p.toUpperCase()))if(c.some(t=>t.word===p.toUpperCase()))f.playMatchFailure();else{const t=x.map(s=>[...s]);h.forEach(s=>{t[s.y][s.x].isFound=!0}),R(t);const l=p.length*10,n={word:p.toUpperCase(),points:l,path:[...h]};P(s=>[...s,n]),W(s=>s+l),f.playMatchSuccess();const i=F.filter(s=>s.length>=3&&x.some(r=>r.some(g=>g.letter&&!g.isFound))).length;c.length+1>=Math.min(10,i)&&(E(!0),S(!1),A("pet-word-puzzle",u+l,c.length+1),C(`ğŸ‰ Puzzle Complete! Score: ${u+l}, Words: ${c.length+1}`))}else f.playMatchFailure();v([]),M("")}};o.useEffect(()=>{const a=()=>{b.current&&K()};return document.addEventListener("mouseup",a),()=>document.removeEventListener("mouseup",a)},[p,h,c,u,x]),o.useEffect(()=>{if(!j||y)return;const a=setInterval(()=>{G(t=>t<=1?(E(!0),S(!1),A("pet-word-puzzle",u,c.length),C(`â° Time's up! Score: ${u}, Words found: ${c.length}`),f.playMatchFailure(),0):(t===11&&f.playTimerWarning(),t-1))},1e3);return()=>clearInterval(a)},[j,y,u,c.length,A,C]);const B=a=>{const t=Math.floor(a/60),l=a%60;return`${t}:${l.toString().padStart(2,"0")}`},T=(a,t)=>h.some(l=>l.x===a&&l.y===t);return e.jsxs(d.div,{className:"max-w-6xl mx-auto p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(d.h2,{className:"text-3xl font-bold gradient-text mb-4",initial:{scale:.9},animate:{scale:1},transition:{delay:.2},children:"ğŸ“ Pet Word Puzzle"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Find words related to pets by connecting adjacent letters!"}),j?e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsx("div",{className:"glass-card px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-white font-semibold",children:["Score: ",u]})}),e.jsx("div",{className:"glass-card px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-white font-semibold",children:["Words: ",c.length]})}),e.jsx("div",{className:"glass-card px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-white font-semibold",children:["Time: ",B(w)]})})]}):e.jsx(d.button,{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:shadow-purple-500/30 transition-all duration-300 btn-modern",onClick:I,whileHover:{scale:1.05},whileTap:{scale:.95},children:"ğŸ® Start Game"})]}),j&&e.jsxs("div",{className:"flex justify-center gap-8",children:[e.jsxs(d.div,{className:"relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},children:[e.jsx("div",{ref:U,className:"grid gap-1 bg-black/20 p-4 rounded-2xl backdrop-blur-sm select-none",style:{gridTemplateColumns:`repeat(${m}, 1fr)`},children:x.map((a,t)=>a.map((l,n)=>e.jsxs(d.div,{className:`aspect-square rounded-lg cursor-pointer transition-all duration-200 relative flex items-center justify-center text-xl font-bold select-none ${l.isFound?"bg-green-500/30 ring-2 ring-green-400":T(n,t)?"bg-blue-500/50 ring-2 ring-blue-400 scale-110":"bg-white/10 hover:bg-white/20"}`,onMouseDown:()=>D(n,t),onMouseEnter:()=>$(n,t),whileHover:l.isFound?{}:{scale:1.05},whileTap:l.isFound?{}:{scale:.95},children:[e.jsx("span",{className:`${l.isFound?"text-green-200":T(n,t)?"text-blue-200":"text-white"} filter drop-shadow-lg`,children:l.letter}),T(n,t)&&e.jsx(d.div,{className:"absolute inset-0 border-2 border-blue-400 rounded-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.1}})]},`${n}-${t}`)))}),p&&e.jsx(d.div,{className:"text-center mt-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx("div",{className:"glass-card px-6 py-3 rounded-xl inline-block",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:p})})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"glass-card p-4 rounded-2xl min-w-64",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3 text-center",children:"ğŸ“š Found Words"}),e.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-2",children:[e.jsx(Q,{children:c.map((a,t)=>e.jsxs(d.div,{className:"flex justify-between items-center bg-green-500/20 rounded-lg px-3 py-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:t*.1},children:[e.jsx("span",{className:"text-green-200 font-semibold",children:a.word}),e.jsxs("span",{className:"text-yellow-400 font-bold",children:["+",a.points]})]},a.word))}),c.length===0&&e.jsx("div",{className:"text-gray-400 text-center py-4",children:"No words found yet..."})]})]}),e.jsxs("div",{className:"glass-card p-4 rounded-2xl",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3 text-center",children:"ğŸ¯ How to Play"}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[e.jsx("div",{children:"â€¢ Click and drag to select letters"}),e.jsx("div",{children:"â€¢ Connect adjacent letters (including diagonally)"}),e.jsx("div",{children:"â€¢ Find words 3+ letters long"}),e.jsx("div",{children:"â€¢ Words must be pet/animal related"}),e.jsx("div",{children:"â€¢ Longer words = more points!"})]})]})]})]}),y&&e.jsx(d.div,{className:"text-center mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs("div",{className:"glass-card p-6 rounded-2xl inline-block",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:w>0?"ğŸ‰ Puzzle Complete!":"â° Time's Up!"}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Score: ",u," | Words Found: ",c.length,w>0&&e.jsxs("span",{children:[" | Time Bonus: ",w*2]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(d.button,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-2 rounded-xl font-bold btn-modern",onClick:I,whileHover:{scale:1.05},whileTap:{scale:.95},children:"ğŸ”„ Play Again"}),e.jsx(d.button,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-xl font-bold btn-modern",onClick:()=>S(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:"ğŸ  Back to Menu"})]})]})}),!j&&e.jsxs(d.div,{className:"glass-card p-6 rounded-2xl mt-6 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"ğŸ“‹ Game Rules"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ¯"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Objective:"})," Find as many pet-related words as possible"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âš¡"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Controls:"})," Click and drag to connect adjacent letters"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ“"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Words:"})," Must be 3+ letters, pet/animal themed"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"â°"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Time:"})," 3 minutes to find as many words as possible"]})]})]})]})]})};export{Y as default};

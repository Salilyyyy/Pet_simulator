import{r as l,j as e,m as i}from"./framer-ImROKbaA.js";import{u as L,s as R}from"./index-CWbnnzAN.js";import"./vendor-Bzgz95E1.js";import"./zustand-C3EHBv_w.js";const n=[{id:"rock",emoji:"âœŠ",name:"Rock"},{id:"paper",emoji:"âœ‹",name:"Paper"},{id:"scissors",emoji:"âœŒï¸",name:"Scissors"}],W=()=>{const{currentPet:P,setMessage:g,completeMiniGame:N}=L(),[a,o]=l.useState("choosing"),[h,d]=l.useState(3),[r,p]=l.useState(null),[f,u]=l.useState(null),[x,b]=l.useState([]),[v,w]=l.useState(0),[c,k]=l.useState(1),M=P?.typeData.emoji||"ðŸ±",G=(s,t)=>s===t?"tie":s==="rock"&&t==="scissors"||s==="scissors"&&t==="paper"||s==="paper"&&t==="rock"?"player":"pet",T=s=>{a==="choosing"&&(p(s),o("countdown"),d(3),R.playTileSelect())};l.useEffect(()=>{if(a!=="countdown")return;const s=setInterval(()=>{d(t=>{if(t<=1){const j=n[Math.floor(Math.random()*n.length)].id;return u(j),setTimeout(()=>{const S=G(r,j),E={playerChoice:r,petChoice:j,winner:S};b(y=>[...y,E]),S==="pet"&&w(y=>{const m=y+1;return m>=3&&(o("gameOver"),N("rock-paper-scissors",Math.max(0,c*10-m*5),Math.floor(c/2)),g(`ðŸ’” You lost 3 rounds! Final score: ${Math.max(0,c*10-m*5)}`)),m}),o("result")},500),0}return t-1})},1e3);return()=>clearInterval(s)},[a,r,c,N,g]);const H=()=>{k(s=>s+1),o("choosing"),p(null),u(null),d(3)},C=()=>{o("choosing"),p(null),u(null),d(3),b([]),w(0),k(1),R.playGameStart()},B=()=>{C()};return e.jsxs(i.div,{className:"max-w-4xl mx-auto p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(i.h2,{className:"text-3xl font-bold gradient-text mb-4",initial:{scale:.9},animate:{scale:1},transition:{delay:.2},children:"âœ‚ï¸ Rock Paper Scissors"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Challenge your pet to a game of Rock Paper Scissors!"}),e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsx("div",{className:"glass-card px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-white font-semibold",children:["Round: ",c]})}),e.jsx("div",{className:"glass-card px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-white font-semibold",children:["Losses: ",v,"/3"]})})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[e.jsxs(i.div,{className:"text-center",animate:{scale:a==="result"?[1,1.1,1]:1,rotate:a==="result"?[0,-5,5,0]:0},transition:{duration:.5},children:[e.jsx("div",{className:"text-8xl mb-4",children:M}),e.jsxs("div",{className:"text-6xl",children:[a==="countdown"&&h>0&&e.jsx(i.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"inline-block",children:h},h),f&&(a==="countdown"||a==="result")&&e.jsx(i.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:a==="countdown"?0:.3},className:"inline-block",children:n.find(s=>s.id===f)?.emoji})]})]}),r&&e.jsxs(i.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx("p",{className:"text-gray-300 mb-2",children:"You chose:"}),e.jsx("div",{className:"text-6xl",children:n.find(s=>s.id===r)?.emoji})]}),a==="choosing"&&e.jsx(i.div,{className:"flex gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:n.map((s,t)=>e.jsxs(i.button,{className:"glass-card p-6 rounded-2xl hover:bg-glass-bg/50 transition-all duration-300",onClick:()=>T(s.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1+.5},children:[e.jsx("div",{className:"text-6xl mb-2",children:s.emoji}),e.jsx("div",{className:"text-white font-semibold",children:s.name})]},s.id))}),a==="result"&&x.length>0&&e.jsx(i.div,{className:"text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5},children:e.jsx("div",{className:"glass-card p-6 rounded-2xl inline-block",children:(()=>{const s=x[x.length-1];return s.winner==="tie"?e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"ðŸ¤ It's a Tie!"}),e.jsxs("p",{className:"text-gray-300",children:["Both chose ",n.find(t=>t.id===s.playerChoice)?.name]})]}):s.winner==="player"?e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-2",children:"ðŸŽ‰ You Win!"}),e.jsxs("p",{className:"text-gray-300",children:[n.find(t=>t.id===s.playerChoice)?.name," beats ",n.find(t=>t.id===s.petChoice)?.name]})]}):e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-2",children:"ï¿½ You Lose!"}),e.jsxs("p",{className:"text-gray-300",children:[n.find(t=>t.id===s.petChoice)?.name," beats ",n.find(t=>t.id===s.playerChoice)?.name]})]})})()})}),a==="result"&&v<3&&e.jsx(i.button,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:shadow-blue-500/30 transition-all duration-300 btn-modern",onClick:H,whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:"Next Round â†’"}),a==="gameOver"&&e.jsx(i.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs("div",{className:"glass-card p-6 rounded-2xl inline-block",children:[e.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-2",children:"ðŸ’” Game Over!"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"You lost 3 rounds to your pet!"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(i.button,{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-2 rounded-xl font-bold btn-modern",onClick:C,whileHover:{scale:1.05},whileTap:{scale:.95},children:"ðŸ”„ Play Again"}),e.jsx(i.button,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-2 rounded-xl font-bold btn-modern",onClick:B,whileHover:{scale:1.05},whileTap:{scale:.95},children:"ðŸ  Back to Menu"})]})]})})]}),a==="choosing"&&x.length===0&&e.jsxs(i.div,{className:"glass-card p-6 rounded-2xl mt-8 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"ï¿½ How to Play"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœŠ"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Rock:"})," Beats Scissors"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ‹"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Paper:"})," Beats Rock"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœŒï¸"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Scissors:"})," Beats Paper"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ†"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Goal:"})," Don't lose 3 rounds!"]})]})]})]})]})};export{W as default};

import{r as g,j as e,m as n,A as N}from"./framer-ImROKbaA.js";import{u as G,s as b}from"./index-DIWj36YF.js";import"./vendor-Bzgz95E1.js";import"./zustand-C3EHBv_w.js";const M=()=>{const{currentPet:v,setMessage:d,completeMiniGame:x}=G(),[m,p]=g.useState(Array(9).fill(null)),[l,r]=g.useState("playing"),[h,c]=g.useState(null),w=v?.typeData.emoji||"üê±",u=t=>{const s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let a of s){const[i,o,f]=a;if(t[i]&&t[i]===t[o]&&t[i]===t[f])return t[i]}return null},y=t=>t.every(s=>s!==null),T=t=>{for(let a=0;a<9;a++)if(t[a]===null){const i=[...t];if(i[a]="O",u(i)==="O")return a}for(let a=0;a<9;a++)if(t[a]===null){const i=[...t];if(i[a]="X",u(i)==="X")return a}if(t[4]===null)return 4;const s=[0,2,6,8];for(let a of s)if(t[a]===null)return a;for(let a=0;a<9;a++)if(t[a]===null)return a;return-1},k=t=>{if(l!=="playing"||m[t]!==null)return;const s=[...m];if(s[t]="X",p(s),b.playTileSelect(),u(s)){c("player"),r("won"),x("tic-tac-toe",25,1),d("üéâ You won the Tic Tac Toe game!");return}if(y(s)){c("tie"),r("tie"),x("tic-tac-toe",10,0),d("ü§ù It's a tie!");return}r("petTurn"),setTimeout(()=>{const i=T(s);if(i!==-1){const o=[...s];if(o[i]="O",p(o),u(o)){c("pet"),r("lost"),x("tic-tac-toe",5,0),d("üíî You lost to your pet!");return}if(y(o)){c("tie"),r("tie"),x("tic-tac-toe",10,0),d("ü§ù It's a tie!");return}}r("playing")},1e3)},j=()=>{p(Array(9).fill(null)),r("playing"),c(null),b.playGameStart()},B=()=>{j()};return e.jsxs(n.div,{className:"max-w-4xl mx-auto p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(n.h2,{className:"text-3xl font-bold gradient-text mb-4",initial:{scale:.9},animate:{scale:1},transition:{delay:.2},children:"‚≠ï Tic Tac Toe"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Challenge your pet to a game of Tic Tac Toe!"}),e.jsxs(n.div,{className:"text-center mb-4",animate:{scale:l==="petTurn"?[1,1.1,1]:1,rotate:l==="petTurn"?[0,-5,5,0]:0},transition:{duration:.5},children:[e.jsx("div",{className:"text-6xl mb-2",children:w}),e.jsxs("div",{className:"text-gray-300",children:[l==="petTurn"&&"Pet is thinking... ü§î",l==="playing"&&"Your turn! üéØ"]})]})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx(n.div,{className:"grid grid-cols-3 gap-2 bg-gradient-to-br from-blue-500 to-purple-600 p-4 rounded-2xl shadow-2xl",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},children:m.map((t,s)=>e.jsx(n.button,{className:`
                w-20 h-20 bg-glass-bg/30 backdrop-blur-md border-2 border-glass-border rounded-xl
                flex items-center justify-center text-4xl font-bold transition-all duration-300
                ${t===null&&l==="playing"?"hover:bg-glass-bg/50 hover:scale-105":""}
                ${t==="X"?"text-blue-400":t==="O"?"text-red-400":"text-gray-400"}
              `,onClick:()=>k(s),disabled:t!==null||l!=="playing",whileHover:t===null&&l==="playing"?{scale:1.05}:{},whileTap:t===null&&l==="playing"?{scale:.95}:{},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:s*.05+.4},children:e.jsx(N,{children:t&&e.jsx(n.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{duration:.3},children:t})})},s))})}),e.jsx(N,{children:(l==="won"||l==="lost"||l==="tie")&&e.jsx(n.div,{className:"text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.5},children:e.jsxs("div",{className:"glass-card p-6 rounded-2xl inline-block",children:[h==="player"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-green-400 mb-2",children:"üéâ You Win!"}),e.jsx("p",{className:"text-gray-300",children:"Congratulations! You beat your pet!"})]}),h==="pet"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-red-400 mb-2",children:"üíî You Lost!"}),e.jsx("p",{className:"text-gray-300",children:"Your pet was too smart this time!"})]}),h==="tie"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-yellow-400 mb-2",children:"ü§ù It's a Tie!"}),e.jsx("p",{className:"text-gray-300",children:"Great game! Both players did well!"})]}),e.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[e.jsx(n.button,{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-2 rounded-xl font-bold btn-modern",onClick:j,whileHover:{scale:1.05},whileTap:{scale:.95},children:"üîÑ Play Again"}),e.jsx(n.button,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-2 rounded-xl font-bold btn-modern",onClick:B,whileHover:{scale:1.05},whileTap:{scale:.95},children:"üè† Back to Menu"})]})]})})}),m.every(t=>t===null)&&e.jsxs(n.div,{className:"glass-card p-6 rounded-2xl mt-8 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"üìã How to Play"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"‚ùå"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"You:"})," Click on empty squares to place X"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"‚≠ï"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Pet:"})," Automatically places O after your turn"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üèÜ"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Goal:"})," Get 3 in a row (horizontal, vertical, or diagonal)"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üß†"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"AI:"})," Your pet plays smart - try to beat it!"]})]})]})]})]})};export{M as default};
